# ITMO: Telegram-бот для сравнения магистерских программ "Искусственный интеллект" и "Управление ИИ-продуктами"

## Что делает
- Парсит страницы программ на abit.itmo.ru и пытается вытащить учебные планы (PDF) в табличный вид.
- Отвечает на вопросы абитуриента только по этим двум программам — через локальную RAG-индексацию (TF-IDF).
- Рекомендует выборные дисциплины и траекторию по семестрам с учетом вашего бэкграунда и цели (ML-инженер, Data Engineer, AI Product Manager и т. п.).
- Работает на Windows (Python 3.11+).

## Быстрый старт (Windows)
1) Установите Python 3.11+.
2) В консоли выполните:
   ```bat
   cd itmo_ai_programs_bot
   py -3.11 -m venv .venv
   .venv\Scripts\activate
   pip install -r requirements.txt
   setx TELEGRAM_BOT_TOKEN "8134278701:AAEN9PiCo-4BsdbsGpXxhrJZ3jlz8eR1COM"
   ```
3) Запуск бота:
   ```bat
   python -m bot
   ```

## Команды бота
- /start — приветствие и выбор режима.
- /compare — короткая анкета, которая подскажет, какая программа вам ближе и почему.
- /choose_program — зафиксировать одну из программ (ai или ai_product) для диалога.
- /plan — показать извлеченный учебный план и отправить CSV.
- /ask — ответы на вопросы по содержимому страниц программ.
- /recommend — рекомендации по элективам на основе вашего бэкграунда.

## Как это работает
- scraper.py: тянет HTML со страниц программ, ищет ссылку "Скачать учебный план", скачивает PDF (если доступен) и парсит таблицы через pdfplumber. Результат — CSV/JSON с курсами и метаданными.
- knowledge.py: строит TF-IDF-индекс по текстовым фрагментам страниц и извлеченным данным из плана; отдает наиболее релевантные куски текста как источник ответа.
- recommender.py: простая эвристическая система, которая сопоставляет бэкграунд/цели с дисциплинами (по ключевым словам и типу курсов).
- bot.py: телеграм-диалог на aiogram 3, FSM-сцены для анкеты, строгая фильтрация тем.

## Замечания
- Если учебный план отдается только в PDF сложной структуры, парсер может не распознать его идеально. В этом случае бот все равно будет отвечать по тексту страниц и предложит загрузить план вручную (командой, будет подсказка).
- Код не использует внешние LLM — все локально. При желании можно заменить модуль ответа на OpenAI/ЯндексGPT и т.п.
